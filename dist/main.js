(()=>{"use strict";var e={245:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,'html{font-size:16px;font-family:"Roboto",sans-serif}body{margin:0;padding:0;width:100%;background:#4b4ea2;background:linear-gradient(90deg, #4b4ea2 0%, #e14444 100%);position:relative;overflow-x:hidden}.btn-link:link,.btn-add:link,.btn-link:visited,.btn-add:visited,.btn-link:focus,.btn-add:focus{border:1px solid #fff;border-radius:5px;color:#fff;font-size:.8rem;text-decoration:none;font-style:italic}.btn-link:hover,.btn-add:hover{background-color:#fff;color:#4b4ea2}.btn-modChar,#btn-mod-delete,#btn-mod{background-color:transparent;border:1px solid #fff;border-radius:5px;color:#fff;margin:.5rem}#btn-mod{background-color:transparent;border:1px solid #4b7cfb;color:#4b7cfb}#btn-mod:hover{background-color:#4b7cfb;color:#fff}#btn-mod-delete{background-color:transparent;border:1px solid #bf3a30;color:#bf3a30}#btn-mod-delete:hover{background-color:#bf3a30;color:#fff}.btn-add{margin:auto;display:inline-block}.btn-add:link,.btn-add:visited,.btn-add:focus{background-color:#4b7cfb;border:none;font-size:1.2rem;font-style:normal;padding:1rem 3rem;text-align:center;box-shadow:7px 11px 35px 2px rgba(0,0,0,.93)}.l-header{padding:1rem;color:#fff}.l-header-heading{margin:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;border-bottom:3px solid #fff}.l-header-heading-content h1{font-family:"Permanent Marker",sans-serif}.l-header-search label{display:none}.l-header-search input{border-radius:8px;margin:1rem;padding:.5rem;border:none;margin-right:0}@media screen and (min-width: 768px){.l-header-heading{max-width:1400px;flex-direction:row;justify-content:space-between}}.l-footer{position:sticky;bottom:0;right:0;display:flex;justify-content:flex-end;width:100px}.l-footer-button{position:sticky;width:100px}.l-footer-button a.btn-link,.l-footer-button a.btn-add{display:flex;align-items:center;justify-content:center;border-radius:100%;padding:1rem 1.8rem;margin:1.5rem}.l-footer-button a.btn-link .other-btn-add,.l-footer-button a.btn-add .other-btn-add{display:none}@media screen and (min-width: 768px){.l-footer{width:100%;margin:3rem 0;width:100%;position:relative;display:flex;justify-content:center}.l-footer-button{text-align:center;position:relative;width:50%}.l-footer-button a.btn-link,.l-footer-button a.btn-add{border-radius:8px}.l-footer-button a.btn-link .other-btn-add,.l-footer-button a.btn-add .other-btn-add{display:block}.l-footer-button a.btn-link .mobile-btn-add,.l-footer-button a.btn-add .mobile-btn-add{display:none}}.hidden{display:none !important}strong{text-transform:uppercase}.c-main-cards{width:100%}.c-main-cards-container{display:flex;flex-direction:column;align-items:center;margin:auto}.c-main-cards__card{background-color:#363333;display:flex;height:350px;width:250px;margin:1rem;border-radius:25px;box-sizing:border-box;padding:1.5rem 1rem;box-shadow:rgba(0,0,0,.1) 0px 20px 25px -5px,rgba(0,0,0,.04) 0px 10px 10px -5px}.c-main-cards__card h1{font-family:"Permanent Marker",sans-serif;color:#fff;font-size:1rem;padding:0;margin:0;word-wrap:break-word}.c-main-cards__card p{color:#d3d3d3;font-size:.8rem;font-weight:200;overflow-y:scroll;word-wrap:break-word}.c-main-cards__card img{border-radius:100%;width:100px;height:auto;align-self:center}.c-main-cards__card .card__shortDesc{font-size:.8rem;font-weight:200;color:gray;margin:0;height:2rem}.c-main-cards__card .card__desc{margin:0 0 .5rem 0;max-height:200px}.card__container{height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between}@media screen and (min-width: 768px){.c-main-cards-container{flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:center}}@media screen and (min-width: 960px){.c-main-cards-container{max-width:1400px;justify-content:space-between;flex-wrap:wrap}.c-main-cards-container .c-main-cards__card{margin:1rem 2rem}.c-main-cards-container .c-main-cards__card:nth-of-type(4n){margin-right:0}.c-main-cards-container .c-main-cards__card:nth-of-type(4n+1){margin-left:0}.c-main-cards-container .c-main-cards__card:last-of-type{margin:1rem 0}}.c-main-modals{position:sticky;top:0}.c-main-modals-bcg{width:100vw;height:100vh;background-color:rgba(0,0,0,.4);position:absolute;top:0}.c-main-modals-container{max-width:1400px;margin:auto;position:relative}.modal-addChar{position:absolute;top:8vh;width:90%;margin:5%;display:flex;flex-direction:column;justify-content:center;background-color:#363333;padding:1rem;border-radius:15px;box-sizing:border-box}.modal-addChar figure{display:flex;flex-direction:column;justify-content:center;align-items:center}.modal-addChar img{width:150px;border-radius:100%}.modal-addChar form{width:100%}.modal-addChar form span{font-size:.6rem}.modal-addChar form input{width:100%;height:2rem;background-color:gray;border:1px solid #fff;border-radius:10px;margin:.5rem 0;padding:.5rem;box-sizing:border-box}.modal-addChar form div:first-of-type input{height:3rem;width:100%;font-family:"Permanent Marker",sans-serif;font-size:1.6rem;color:#fff;padding-left:2rem;box-sizing:border-box}.modal-addChar form div:nth-of-type(2) input{font-size:.7rem;height:3rem;font-style:italic;font-family:"Roboto",sans-serif;color:#d3d3d3;padding-left:2rem;box-sizing:border-box}.modal-addChar form div:last-of-type input{height:8rem;font-size:.7rem;font-style:italic;color:#d3d3d3;padding-left:2rem;box-sizing:border-box}.modal-addChar form .relative-container{position:relative}.modal-addChar form .input-char-count{position:absolute;bottom:1rem;right:1rem}.modal-close{display:flex;justify-content:flex-end}.container__close{align-self:flex-start;border:1px solid #fff;padding:1rem;border-radius:100%;position:relative;width:10px;height:10px;cursor:pointer}.container__close span{width:20px;height:2px;background-color:#fff;display:block;margin:.5rem;position:absolute;left:3px;top:11px}.container__close span:first-of-type{transform-origin:center;transform:rotate(45deg)}.container__close span:nth-of-type(2){transform-origin:center;transform:rotate(-45deg)}.modal-modChar{position:absolute;top:8vh;width:90%;margin:5%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;background-color:#363333;padding:1rem;border-radius:15px}.modal-modChar figure{display:flex;justify-content:center}.modal-modChar .btn-mod-container{display:flex;justify-content:center}.modal-modChar img{width:150px;border-radius:100%}.modal-modChar #mod-shortDescription{color:gray;font-style:italic;font-size:.8rem;margin-bottom:2rem;text-align:center}.modal-modChar #mod-name{font-size:2rem;font-family:"Permanent Marker",sans-serif;color:#fff;text-align:center}.modal-modChar #mod-description{color:#fff;font-size:1rem;text-align:justify;font-family:"Roboto",sans-serif}.modal-modChar p{margin:.5rem}.description-container{position:relative}.descriptions-btn-container{background-color:#d3d3d3;padding:.5rem;border-radius:10px;position:absolute;top:.5rem;width:100%;box-sizing:border-box}.descriptions-btn-container span{padding-right:.5rem;cursor:pointer;color:gray}.descriptions-btn-container .active{color:#000}#description-div-visu{width:50%;border-radius:8px;height:auto;box-sizing:border-box;padding:1rem;position:absolute;top:-2rem;left:25%;z-index:100000;background-color:#363333;border:1px solid #fff}@media screen and (min-width: 768px){.modal-modChar{max-width:1400px;box-sizing:border-box;padding:1rem}}',""]);const a=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],d=0;d<e.length;d++){var c=e[d],s=o.base?c[0]+o.base:c[0],l=a[s]||0,m="".concat(s," ").concat(l);a[s]=l+1;var u=n(m),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==u?(t[u].references++,t[u].updater(p)):t.push({identifier:m,updater:r(p,o),references:1}),i.push(m)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var d=n(a[i]);t[d].references--}for(var c=o(e,r),s=0;s<a.length;s++){var l=n(a[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=document.getElementById("tpl-char"),t=({description:t,shortDescription:n,name:o,image:r})=>{const a=document.getElementById("card__target"),i=e.content.cloneNode(!0);i.querySelector(".card__name").innerHTML=o,i.querySelector(".card__img").src=`data:image/png;base64, ${r}`,i.querySelector(".card__desc").innerHTML=t,i.querySelector(".card__shortDesc").innerHTML=n,a.append(i)},o=()=>{const e=document.querySelectorAll(".description-btn");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{"btn-bold"==e[t].id?(e[t].classList.toggle("active"),e[t].matches(".active")?document.getElementById("description").value=`${document.getElementById("description").value}<strong>`:document.getElementById("description").value=`${document.getElementById("description").value}</strong>`):"btn-italic"==e[t].id?(e[t].classList.toggle("active"),e[t].matches(".active")?document.getElementById("description").value=`${document.getElementById("description").value}<em>`:document.getElementById("description").value=`${document.getElementById("description").value}</em>`):"btn-strike"==e[t].id?(e[t].classList.toggle("active"),e[t].matches(".active")?document.getElementById("description").value=`${document.getElementById("description").value}<strike>`:document.getElementById("description").value=`${document.getElementById("description").value}</strike>`):"btn-ul"==e[t].id?(e[t].classList.toggle("active"),e[t].matches(".active")?document.getElementById("description").value=`${document.getElementById("description").value}<ul><li>`:document.getElementById("description").value=`${document.getElementById("description").value}</li></ul>`):"btn-ol"==e[t].id?(e[t].classList.toggle("active"),e[t].matches(".active")?document.getElementById("description").value=`${document.getElementById("description").value}<ol><li>`:document.getElementById("description").value=`${document.getElementById("description").value}</li></ol>`):"btn-quote"==e[t].id?(e[t].classList.toggle("active"),e[t].matches(".active")?document.getElementById("description").value=`${document.getElementById("description").value}<q>`:document.getElementById("description").value=`${document.getElementById("description").value}</q>`):getVisuOnTextDesc()}))},r=()=>{const e=document.getElementById("description-visu"),t=document.getElementById("description-div-visu");e.addEventListener("click",(()=>{const n=document.getElementById("description").value;t.classList.toggle("hidden"),e.classList.toggle("active"),e.classList.contains("active")&&(t.innerHTML=n,e.addEventListener("click",(()=>{t.classList.toggle("hidden"),e.classList.toggle("active")})))}))},a=(e,t,n)=>{const o=document.getElementById(e);console.log(o);const r=o.value.length;document.querySelectorAll(".input-char-count")[n].innerHTML=`${r} on max ${t} char.`,o.addEventListener("input",(()=>{const o=document.getElementById(e),r=o.value.length;o.maxLength=t,console.log(r,o),document.querySelectorAll(".input-char-count")[n].innerHTML=`${r} on max ${t} char.`}))},i=document.getElementById("modal-container"),d=document.getElementById("addChar-close"),c=document.getElementById("modChar-close"),s=(document.getElementById("card__target"),async()=>{const e=await document.getElementsByClassName("btn-modChar"),t=await Array.from(e);for(let e=0;e<t.length;e++)t[e].addEventListener("click",(async()=>{document.getElementById("modal-modChar").classList.remove("hidden"),i.classList.remove("hidden");const t=await fetch("https://character-database.becode.xyz/characters"),n=await t.json();document.getElementById("mod-image").src=`data:image/png;base64, ${n[e].image}`,document.getElementById("mod-name").innerHTML=n[e].name,document.getElementById("mod-shortDescription").innerHTML=n[e].shortDescription,document.getElementById("mod-description").innerHTML=n[e].description,document.getElementById("btn-mod").addEventListener("click",(async()=>{o();const t=Array.from(document.getElementsByTagName("input"));document.getElementById("modal-modChar").classList.add("hidden"),t[0].value="",preview.src=`data:image/png;base64, ${n[e].image}`,t[1].value=n[e].name,t[2].value=n[e].shortDescription,t[3].value=n[e].description,t[0].addEventListener("change",(async e=>{const t=e.target.files[0];url=await readURL(t),preview.src=url})),document.getElementById("modal-addChar").classList.remove("hidden"),a("name",20,0),a("origin",70,1),a("description",350,2),r(),document.getElementById("btn-save").addEventListener("click",(async()=>{try{const o=t[1].value,r=t[2].value,a=t[3].value,i="";let{image:d}=n[e];const c=document.getElementById("preview").src;(d=!c)?(console.log(d,c.split(",")[1]),await fetch(`https://character-database.becode.xyz/characters/${n[e].id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:a,shortDescription:r,id:i,name:o,image:d})})):(d=c.split(",")[1],await fetch(`https://character-database.becode.xyz/characters/${n[e].id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:a,shortDescription:r,id:i,name:o,image:d})}))}catch(e){console.log(e)}})),d.addEventListener("click",(()=>{i.classList.add("hidden"),document.getElementById("modal-addChar").classList.add("hidden")}))})),document.getElementById("btn-mod-delete").addEventListener("click",(async()=>{await fetch(`https://character-database.becode.xyz/characters/${n[e].id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})})),c.addEventListener("click",(()=>{i.classList.add("hidden"),document.getElementById("modal-modChar").classList.add("hidden")}))}))});var l=n(379),m=n.n(l),u=n(795),p=n.n(u),g=n(569),f=n.n(g),h=n(565),b=n.n(h),y=n(216),v=n.n(y),x=n(589),E=n.n(x),w=n(245),I={};I.styleTagTransform=E(),I.setAttributes=b(),I.insert=f().bind(null,"head"),I.domAPI=p(),I.insertStyleElement=v(),m()(w.Z,I),w.Z&&w.Z.locals&&w.Z.locals;const B=document.getElementById("modal-container"),L=document.getElementById("addChar-close"),k=(document.getElementById("modChar-close"),document.getElementById("card__target")),C=document.getElementById("search");let _="";document.getElementById("search-form").addEventListener("submit",(e=>{e.preventDefault()})),window.onload=async function(){let e="";try{const n=await fetch("https://character-database.becode.xyz/characters");e=await n.json(),""==C.value&&e.forEach((({description:e,shortDescription:n,id:o,name:r,image:a})=>{t({description:e,shortDescription:n,id:o,name:r,image:a})}))}catch(e){console.log(e)}C.addEventListener("input",(async()=>{const n=e.filter((e=>(console.log(e.name.toLowerCase().includes(C.value.toLowerCase())),e.name.toLowerCase().includes(C.value.toLowerCase()))));console.log(n),(e=>{const t=document.getElementById("card__target"),n=e.length;t.style.justifyContent=n<4?"center":"space-between"})(n),k.innerHTML="",n.forEach((({description:e,shortDescription:n,id:o,name:r,image:a})=>{t({description:e,shortDescription:n,id:o,name:r,image:a})}))})),setTimeout((()=>{s()}),500)},document.getElementById("addChar").addEventListener("click",(async()=>{B.classList.remove("hidden"),document.getElementById("modal-addChar").classList.remove("hidden"),o(),document.getElementById("image");const e=document.getElementById("preview"),t=Array.from(document.getElementsByTagName("input"));await t[0].addEventListener("change",(async t=>{const n=t.target.files[0];_=await(e=>new Promise(((t,n)=>{const o=new FileReader;o.onload=e=>t(e.target.result),o.onerror=e=>n(e),o.readAsDataURL(e)})))(n),e.src=_})),document.getElementById("btn-save").addEventListener("click",(async()=>{try{const e=t[1].value,n=t[2].value,o=t[3].value,r="",a=_.split(",")[1];await fetch("https://character-database.becode.xyz/characters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:o,shortDescription:n,id:r,name:e,image:a})})}catch(e){console.log(e)}})),document.getElementById("btn-delete").addEventListener("click",(()=>{t[0].value="",t[1].value="",t[2].value="",t[3].value="",e.src="a"})),L.addEventListener("click",(()=>{B.classList.add("hidden"),document.getElementById("modal-addChar").classList.add("hidden")}))}))})()})();